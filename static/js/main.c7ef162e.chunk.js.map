{"version":3,"sources":["StateProvider.js","Product.js","Home.js","firebase.js","Header.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Product","id","title","price","rating","image","dispatch","className","Array","fill","map","index","src","alt","onClick","type","item","Home","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","basket","user","useHistory","to","signOut","email","length","CheckoutProduct","getBasketTotal","reduce","amount","state","action","newBasket","findIndex","basketItem","splice","console","warn","Subtotal","history","renderText","decimalScale","displayType","thousandSeprator","prefix","e","push","Checkout","log","Login","useState","setEmail","password","setPassword","onChange","event","target","preventDefault","signInWithEmailAndPassword","then","catch","err","alert","message","createUserWithEmailAndPassword","promise","loadStripe","App","useEffect","unsubscribe","onAuthStateChanged","authUser","path","stripe","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7ef162e.chunk.js","sourcesContent":["import React,{createContext,useContext,useReducer} from \"react\";\r\n\r\nexport const StateContext=createContext();\r\n\r\nexport const StateProvider = ({reducer,initialState,children})=>(\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n    );\r\n\r\nexport const useStateValue=() => useContext(StateContext);\r\n","import React from 'react'\r\nimport \"./Product.css\"\r\nimport { useStateValue } from \"./StateProvider\"\r\nfunction Product({id, title, price, rating, image}) {\r\n    const [{}, dispatch] = useStateValue();\r\n    const addToBasket = () => {\r\n        //Add item to basket...\r\n        dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: {\r\n                id,\r\n                title,\r\n                image,\r\n                price,\r\n                rating\r\n            }\r\n        })\r\n    };\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"product__rating\">\r\n                {Array(rating).fill().map((index) => (\r\n                        <p key={index}>#</p>\r\n                    ))}\r\n                    \r\n                </div>\r\n            </div>\r\n            <img src={image} alt=\"\"/>\r\n            <button onClick={addToBasket}>Add to basket</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Product","import React from 'react'\r\nimport \"./Home.css\"\r\nimport Product from './Product'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__container\">\r\n                    <img className=\"home__image\"  src=\"https://images-eu.ssl-images-amazon.com/images/G/31/AmazonVideo/2020/X-site/SingleTitle/ZZZ/1500x600_Hero-Tall_np._CB414368578_.jpg\" alt=\"\"/>\r\n            \r\n            <div className=\"home__row\">\r\n                <Product id={2121} title=\"The lean Stratup\" price ={19.99} image=\"https://images-na.ssl-images-amazon.com/images/I/51-cYrw1XpL._AC_SY400_.jpg\" rating={5}/>\r\n                <Product id={2126} title=\"Belkin KAKAO and Friends Official Edition 10W Fast Wireless Charging Pad for All Qi Smart Phones Including iPhone 12 Mini, iPhone 12, 12 Pro, 12 Pro Max and More - Black (AC Adapter not Included)\" price={24.99}\r\n                    image=\"https://images-eu.ssl-images-amazon.com/images/I/31jVBxrbgML._AC_US240_FMwebp_QL65_.jpg\" rating={5}\r\n                />\r\n                \r\n                \r\n            </div> \r\n            <div className=\"home__row\">\r\n            <Product image=\"https://images-eu.ssl-images-amazon.com/images/I/41sab1JO6FL._AC_SX184_.jpg\"\r\n                title=\"Amazon Echo (3rd Gen) – Improved sound, powered by Dolby (White)\"\r\n                price={4.99}\r\n                rating={4}\r\n                id={2122}\r\n            />\r\n                <Product image=\"https://images-eu.ssl-images-amazon.com/images/I/41ieXldnYzL._AC_US240_FMwebp_QL65_.jpg\"\r\n                title=\"Samsung Galaxy M01 (Blue, 3GB RAM, 32GB Storage) with No Cost EMI/Additional Exchange Offers\"\r\n                price={12.99}\r\n                rating={4}\r\n                id={2123}\r\n                />\r\n                <Product image=\"https://images-eu.ssl-images-amazon.com/images/I/41zWRIfFyDL._AC_US240_FMwebp_QL65_.jpg\"\r\n                    title=\"Mi Notebook Horizon Edition 14 Intel Core i7-10510U 10th Gen Thin and Light Laptop(8GB/512GB SSD/Windows 10/Nvidia MX350 2GB Graphics/Grey/1.35Kg), XMA1904-AF+Webcam\"\r\n                    price={59.99}\r\n                    rating={4}\r\n                    id={2124}\r\n                />\r\n            </div> \r\n            <div className=\"home__row\">\r\n            <Product title=\"Inlight 120 inches Diagonal, UHD-3D-4K Ready Technology Motorised Projector Screen 4:3 Aspect Ratio, 8 Ft x 6 Ft (White)\" \r\n                image=\"https://m.media-amazon.com/images/I/71QtiNX2uQL._AC_UY327_FMwebp_QL65_.jpg\"\r\n                price={32.99}\r\n                rating={5}\r\n                id={2125}\r\n            />\r\n               \r\n            </div>        \r\n\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import firebase from \"firebase\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB2bMJ9CJHRTNF2n6HQTq31zG1J1JTDUG4\",\r\n  authDomain: \"fir-5d304.firebaseapp.com\",\r\n  projectId: \"fir-5d304\",\r\n  storageBucket: \"fir-5d304.appspot.com\",\r\n  messagingSenderId: \"812696398293\",\r\n  appId: \"1:812696398293:web:228a88b1aadab78caff55c\",\r\n  measurementId: \"G-NHW5W7EB8L\"\r\n};\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nexport { db,auth };","import React from 'react'\r\nimport {Link, useHistory} from \"react-router-dom\"\r\nimport './Header.css'\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\"\r\nimport {useStateValue } from \"./StateProvider\"\r\nimport { auth } from './firebase'\r\nfunction Header() {\r\n    const [{basket, user}] = useStateValue();\r\n    const history = useHistory();\r\n    const login = () => {\r\n        if (user) {\r\n            auth.signOut();\r\n           \r\n        }\r\n    }\r\n    return (\r\n        <nav className=\"header\">\r\n            {/* logo on the left -> img */}\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" alt=\"amazon logo\"/>\r\n            </Link>\r\n            {/* search box */}\r\n            <div className=\"header__search\">\r\n                <input type=\"text\" className=\"header__searchInput\"/>\r\n                <SearchIcon className=\"header__searchIcon\"/>\r\n            </div>\r\n            {/* 3 links */}\r\n            <div className=\"header__nav\">\r\n                <Link to={!user && \"/login\"} className=\"header__link\">\r\n                    <div onClick={login} className=\"header__option\">\r\n                        <span className=\"header__optionLineOne\">Hello {!user?\"Guest\" : user?.email}</span>\r\n                        <span className=\"header__optionLineTwo\">{user ? \"Sign Out\" : \"Sign In\"}</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            <div className=\"header__nav\">\r\n                <Link to=\"/order\" className=\"header__link\">\r\n                    <div className=\"header__option\">\r\n                        <span className=\"header__optionLineOne\">Returns</span>\r\n                        <span className=\"header__optionLineTwo\">& Orders</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            <div className=\"header__nav\">\r\n                <Link to=\"/login\" className=\"header__link\">\r\n                    <div className=\"header__option\">\r\n                        <span className=\"header__optionLineOne\">Your</span>\r\n                        <span className=\"header__optionLineTwo\">Prime</span>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n            <Link to=\"/checkout\" className=\"header__link\">\r\n                <div className=\"header__optionBasket\">\r\n                    {/* shopping basket icon */}\r\n                    <ShoppingBasketIcon/>\r\n                    {/* number of items in the basket */}\r\n                    {/* we use {basket?.length} to render the length of the basket when basket property of the state reaches the header component. without this, the dom will render the basket.length even when it has not reach the header component therby resulting to an error  */}\r\n                    <span className=\"header__optionLineTwo header__basketCount\">{basket?.length}</span>\r\n                </div>\r\n            </Link>\r\n            {/* basket icon with number*/}\r\n        </nav>\r\n    )\r\n}\r\nexport default Header","import React from 'react'\r\nimport './CheckoutProduct.css'\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction CheckoutProduct({id,image,title,price,rating}) {\r\n    const [{}, dispatch] = useStateValue();\r\n    const removeFromBasket = () => {\r\n        // remove from basket\r\n        dispatch({\r\n            type: \"REMOVE_FROM_BASKET\",\r\n            id\r\n        })\r\n    }\r\n    return (\r\n        <div className='checkoutProduct'>\r\n           <img className=\"checkoutProduct__image\"src={image} alt=\"\" /> \r\n           <div className=\"checkoutProduct__info\">\r\n               <p className=\"checkoutProduct__title\">{title}</p>\r\n               <p className=\"checkoutProduct__price\">\r\n                   <small>$</small>\r\n                   <strong>{price}</strong>\r\n               </p>\r\n               <div className=\"checkoutProduct__rating\">\r\n               {Array(rating).fill().map((index) => (\r\n                        <p key={index}>#</p>\r\n                    ))}\r\n               </div>\r\n               <button onClick={removeFromBasket}>Remove from basket</button>\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","export const initialState = {\r\n    basket: [],\r\n    user: null\r\n}\r\n\r\nexport const getBasketTotal = (basket) => basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nfunction reducer(state, action) {\r\n    switch(action.type) {\r\n        case \"SET_USER\": \r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case \"ADD_TO_BASKET\":\r\n            return {\r\n                ...state, \r\n                basket: [...state.basket, action.item]\r\n            };\r\n        case 'REMOVE_FROM_BASKET':\r\n            let newBasket  = [...state.basket];\r\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id);\r\n            if(index >= 0) {\r\n                //item exist in the basket, remove it\r\n                newBasket.splice(index, 1) \r\n            } else {\r\n                console.warn (\r\n                    `Can't remove product{id: ${action.id}} as it is not in the basket`\r\n                );\r\n            }\r\n            return{\r\n                ...state,\r\n                basket: newBasket\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default reducer;","import React from 'react'\r\nimport \"./Subtotal.css\"\r\nimport CurrencyFormat from \"react-currency-format\"\r\nimport { useStateValue } from \"./StateProvider\"\r\nimport { getBasketTotal } from './reducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n// import ShoppingBasket from '@material-ui/icons/ShoppingBasket';\r\n\r\n    \r\nfunction Subtotal() {\r\n    const history=useHistory();\r\n    const [{basket}, dispatch] = useStateValue();\r\n    return (\r\n        <div className=\"subtotal\">\r\n        <CurrencyFormat \r\n        renderText={(value) =>(\r\n            <>\r\n            <p>\r\n                Subtotal ({basket.length} items): <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n                <input type=\"checkbox\" />This order contains a gift \r\n            </small>\r\n            </>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeprator={true}\r\n        prefix={\"$\"}\r\n        />\r\n        \r\n         <button onClick={e=>history.push(\"/payment\")}>Proceed to Checkout</button>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport \"./Checkout.css\"\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport { useStateValue } from './StateProvider'\r\nimport Subtotal from './Subtotal'\r\nfunction Checkout() {\r\n    const [{basket},dispatch]=useStateValue();\r\n\r\n    return (\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout__left\">\r\n                <img className=\"checkout__ad\"\r\n                    src=\"https://images-eu.ssl-images-amazon.com/images/G/31/img19/AmazonPay/PrimeRewards/LP_Revamp/PC_Header_Banner._CB468631809_.jpg\"\r\n                    alt=\"\"\r\n                />\r\n                <div>\r\n                    <h2 className=\"checkout__title\">\r\n                        Your Shopping Basket\r\n                    </h2>\r\n                    {basket.map(item => {\r\n                            console.log(item)\r\n                        return (\r\n                            <CheckoutProduct\r\n                                id={item.id}\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        )\r\n                        })}\r\n                    </div>\r\n                \r\n\r\n            </div>\r\n            <div className=\"checkout__right\">\r\n                <Subtotal />\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, {useState} from 'react'\r\n\r\nimport \"./Login.css\"\r\nimport {Link, useHistory} from \"react-router-dom\"\r\nimport {auth} from \"./firebase\"\r\nfunction Login() {\r\n    const history = useHistory()\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const signIn = (event) => {\r\n        event.preventDefault()\r\n        auth.signInWithEmailAndPassword(email, password)\r\n            .then( auth => {\r\n                //redirect to home page\r\n               console.log(auth);\r\n               history.push(\"/\")\r\n            })\r\n            .catch(err => {\r\n                alert(err.message)\r\n\r\n            })\r\n    }\r\n    const register = (event) => {\r\n        event.preventDefault()\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n            .then(auth => {\r\n                //create a user, login and redirect to homepage\r\n                console.log(auth)\r\n                history.push(\"/\")\r\n            })\r\n            .catch(err => {\r\n                alert(err.message)\r\n            })\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"login__logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\" alt=\"\" className=\"login__logo\"/>\r\n            </Link>\r\n            <div className=\"login__container\">\r\n                <h1>\r\n                    Sign-in\r\n                </h1>\r\n                <form>\r\n                <h5>Email:</h5>\r\n                    <input value={email} onChange={event => setEmail(event.target.value)} type=\"email\"/>\r\n                    <h5>Password:</h5>\r\n                    <input value={password} onChange={event => setPassword(event.target.value)} type=\"password\"/>\r\n                    <button type=\"submit\" onClick={signIn}  className=\"login__signInBtn\">sign in</button>\r\n                    <p>\r\n                        by signing in you agree to amazon condition of use and sale.Please see our privacy notice, our cookies notice and our interest based ad notice. \r\n                    </p>\r\n                    <button onClick={register} className=\"login__registerBtn\">create your amazon account</button>\r\n               </form>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport Home from \"./Home\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Header from \"./Header\"\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport {useStateValue} from \"./StateProvider\"\nimport {auth} from \"./firebase\"\nimport Payment from './Payment';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from \"@stripe/react-stripe-js\";\nconst promise = loadStripe(\"pk_test_51HzK7dAQscEvldAKCOsExx9Bz0vygtobvjrAw8grDAQ6PMg5345H0sWtWucxJEamTyEgLc6zBz9gdw9Dg8oPeKBI00wjudxQ4T\");\n\nfunction App() {\n  const [{user}, dispatch] = useStateValue();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(authUser => {\n      if(authUser) {\n        //The user is logged in\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser\n        })\n      } else {\n        //The user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null\n        })\n      }\n    })\n    return () => {\n      // Any clean up operation goes in here\n      unsubscribe();\n    }\n  }, [])\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/login\">\n            <Login/>\n          </Route>\n          <Route path=\"/checkout\">\n            <Header/>\n            <Checkout/>\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n            \n            </Elements>\n            \n          </Route>\n          <Route path=\"/\">\n            <Header/>\n            <Home/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, {initialState} from \"./reducer\"\n\nReactDOM.render(\n  <React.StrictMode>\n  <StateProvider initialState={initialState} reducer={reducer}>\n  <App />\n  </StateProvider>\n   \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}